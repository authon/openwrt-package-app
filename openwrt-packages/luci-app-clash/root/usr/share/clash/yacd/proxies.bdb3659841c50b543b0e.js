(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{D46e:function(e,t,a){e.exports={header:"_3PCSxT0l14",list:"_1yYRIyvlRd",proxy:"_1OcDlvlM5R",proxySelectable:"_3oAxPKtZFv"}},FWZb:function(e,t,a){e.exports={proxy:"NpfXwxWAxo",now:"_2zD7drviYH",error:"_2bylJNYYdN",proxyType:"_1rVl-Kdmss",row:"aS2noEcBcP",proxyName:"_3kdi5nima5",proxySmall:"_3NpxWygDxO"}},L5YO:function(e,t,a){e.exports={group:"_1myfcMimT9"}},RL2M:function(e,t,a){e.exports={header:"_37wt2_a2Gx",arrow:"L80zPM0Rx0",isOpen:"_36RO7_wtuv",btn:"_2XKN3NArpV",qty:"_1s98xvUoBx"}},RbL9:function(e,t,a){e.exports={proxyLatency:"_2V-RqIAl7n"}},wyCT:function(e,t,a){"use strict";a.r(t);a("2B1R");var n=a("q1tI"),r=a.n(n),c=a("WfPo"),l=a("DKqX"),o=(a("TeQF"),a("ToJy"),a("KQm4")),i=a("TSYQ"),u=a.n(i),s=a("Wwog"),m=a("HGr0"),p=a("OADI"),d=a("j7o3"),v=a("riol"),f=a("5Wrh"),b=a("RL2M"),y=a.n(b);function E(e){var t=e.name,a=e.type,n=e.toggle,c=e.isOpen,l=e.qty;return(r.a.createElement("div",{className:y.a.header},r.a.createElement("div",{onClick:n,style:{cursor:"pointer"}},r.a.createElement(v.b,{name:t,type:a})),"number"==typeof l?r.a.createElement("span",{className:y.a.qty},l):null,r.a.createElement(f.a,{kind:"minimal",onClick:n,className:y.a.btn},r.a.createElement("span",{className:u()(y.a.arrow,{[y.a.isOpen]:c})},r.a.createElement(d.a,{size:20})))))}var O=a("RbL9"),x=a.n(O);function h(e){var t=e.number,a=e.color;return(r.a.createElement("span",{className:x.a.proxyLatency,style:{color:a}},r.a.createElement("span",null,t," ms")))}var w=a("FWZb"),g=a.n(w),j=r.a.useMemo,N="#67c23a",k="#d4b75c",C="#e67f3c",_="#909399";function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.number;e.error;return t<200?N:t<400?k:"number"==typeof t?C:_}var T=function(e,t){var a=t.name,n=Object(m.c)(e),r=Object(m.b)(e);return{proxy:n[a],latency:r[a]}},R=Object(c.a)(T)((function(e){var t=e.now,a=e.name,n=e.proxy,c=e.latency,l=j((function(){return A(c)}),[c]);return r.a.createElement("div",{className:u()(g.a.proxy,{[g.a.now]:t,[g.a.error]:c&&c.error})},r.a.createElement("div",{className:g.a.proxyName},a),r.a.createElement("div",{className:g.a.row},r.a.createElement("span",{className:g.a.proxyType,style:{opacity:t?.6:.2}},n.type),c&&c.number?r.a.createElement(h,{number:c.number,color:l}):null))})),S=Object(c.a)(T)((function(e){var t=e.now,a=e.name,n=(e.proxy,e.latency),c=j((function(){return A(n)}),[n]),l=j((function(){var e=a;return n&&"number"==typeof n.number&&(e+=" "+n.number+" ms"),e}),[a,n]);return r.a.createElement("div",{title:l,className:u()(g.a.proxySmall,{[g.a.now]:t}),style:{backgroundColor:c}})})),D=a("D46e"),P=a.n(D),L=r.a.useCallback,F=r.a.useMemo;function q(e){var t=e.all,a=e.now,n=e.isSelectable,c=e.itemOnTapCallback,l=e.sortedAll||t;return r.a.createElement("div",{className:P.a.list},l.map((function(e){var t=u()(P.a.proxy,{[P.a.proxySelectable]:n});return(r.a.createElement("div",{className:t,key:e,onClick:function(){n&&c&&c(e)}},r.a.createElement(R,{name:e,now:e===a})))})))}var z=function(e,t){return void 0===e?0:!e.error&&e.number>0?e.number:t};var M=Object(s.a)((function(e,t,a){var n=Object(o.a)(e);return a&&(n=function(e,t){return e.filter((function(e){var a=t[e];return void 0===a||!a.error&&0!==a.number}))}(e,t)),n.sort((function(e,a){return z(t[e],999999)-z(t[a],999999)}))}));function H(e){var t=e.all,a=e.now,n=e.isSelectable,c=e.itemOnTapCallback;return(r.a.createElement("div",{className:P.a.list},t.map((function(e){var t=u()(P.a.proxy,{[P.a.proxySelectable]:n});return(r.a.createElement("div",{className:t,key:e,onClick:function(){n&&c&&c(e)}},r.a.createElement(S,{name:e,now:e===a})))}))))}var I=Object(c.a)((function(e,t){var a=t.name,n=t.delay,r=Object(m.c)(e),c=Object(m.f)(e),l=Object(p.c)(e),o=r[a],i=o.all,u=o.type,s=o.now;return{all:M(i,n,c),type:u,now:s,isOpen:l[`proxyGroup:${a}`]}}))((function(e){var t=e.name,a=e.all,n=e.type,l=e.now,o=e.isOpen,i=e.apiConfig,u=e.dispatch,s=F((function(){return"Selector"===n}),[n]),p=Object(c.c)().app.updateCollapsibleIsOpen,d=L((function(){p("proxyGroup",t,!o)}),[o,p,t]),v=L((function(e){s&&u(Object(m.j)(i,t,e))}),[i,u,t,s]);return r.a.createElement("div",{className:P.a.group},r.a.createElement(E,{name:t,type:n,toggle:d,qty:a.length,isOpen:o}),o?r.a.createElement(q,{all:a,now:l,isSelectable:s,itemOnTapCallback:v}):r.a.createElement(H,{all:a}))})),K=a("8/mu"),Q=a("ySHw"),W=a("fIvA"),Y=a("o0o1"),Z=a.n(Y),U=(a("ls82"),a("HaE+")),V=a("ODXe"),G=a("OAQO"),X=a("FVam"),B=a("ZMKu"),J=a("bdgK"),$=r.a.memo,ee=r.a.useState,te=r.a.useRef,ae=r.a.useEffect;var ne={initialOpen:{height:"auto",transition:{duration:0}},open:function(e){return{height:e,opacity:1,visibility:"visible",transition:{duration:.3}}},closed:{height:0,opacity:0,visibility:"hidden",transition:{duration:.3}}},re={open:{x:0},closed:{x:20}},ce=$((function(e){var t,a,n=e.children,c=e.isOpen,l=(t=c,a=te(),ae((function(){a.current=t}),[t]),a.current),o=function(){var e=te(),t=ee({height:0}),a=Object(V.a)(t,2),n=a[0],r=a[1];return ae((function(){var t=new J.a((function(e){var t=Object(V.a)(e,1)[0];return r(t.contentRect)}));return e.current&&t.observe(e.current),function(){return t.disconnect()}}),[]),[e,n]}(),i=Object(V.a)(o,2),u=i[0],s=i[1].height;return r.a.createElement("div",null,r.a.createElement(B.a.div,{animate:c&&l===c?"initialOpen":c?"open":"closed",custom:s,variants:ne},r.a.createElement(B.a.div,{variants:re,ref:u},n)))})),le=a("x5hA"),oe=a.n(le),ie=r.a.useState,ue=r.a.useCallback;var se={rest:{scale:1},pressed:{scale:.95}},me={rest:{rotate:0},hover:{rotate:360,transition:{duration:.3}}};function pe(){return r.a.createElement(B.a.div,{className:oe.a.refresh,variants:se,initial:"rest",whileHover:"hover",whileTap:"pressed"},r.a.createElement(B.a.div,{className:"flexCenter",variants:me},r.a.createElement(G.a,{size:16})))}var de=Object(c.a)((function(e,t){var a=t.proxies,n=t.name,r=Object(m.f)(e),c=Object(m.b)(e),l=Object(p.c)(e);return{apiConfig:Object(p.b)(e),proxies:M(a,c,r),isOpen:l[`proxyProvider:${n}`]}}))((function(e){var t=e.name,a=e.proxies,n=e.vehicleType,l=e.updatedAt,o=e.isOpen,i=e.dispatch,u=e.apiConfig,s=ie(!1),p=Object(V.a)(s,2),d=p[0],v=p[1],b=ue((function(){return i(Object(m.l)(u,t))}),[u,i,t]),y=ue(Object(U.a)(Z.a.mark((function e(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,i(Object(m.g)(u,t));case 3:v(!1);case 4:case"end":return e.stop()}}),e)}))),[u,i,t,v]),O=Object(c.c)().app.updateCollapsibleIsOpen,x=ue((function(){O("proxyProvider",t,!o)}),[o,O,t]),h=Object(X.a)(new Date(l),new Date);return r.a.createElement("div",{className:oe.a.body},r.a.createElement(E,{name:t,toggle:x,type:n,isOpen:o,qty:a.length}),r.a.createElement("div",{className:oe.a.updatedAt},r.a.createElement("small",null,"Updated ",h," ago")),r.a.createElement(ce,{isOpen:o},r.a.createElement(q,{all:a}),r.a.createElement("div",{className:oe.a.actionFooter},r.a.createElement(f.a,{text:"Update",start:r.a.createElement(pe,null),onClick:b}),r.a.createElement(f.a,{text:"Health Check",start:r.a.createElement(Q.a,{size:16}),onClick:y,isLoading:d}))),r.a.createElement(ce,{isOpen:!o},r.a.createElement(H,{all:a})))}));var ve=function(e){var t=e.items;return 0===t.length?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{title:"Proxy Provider"}),r.a.createElement("div",null,t.map((function(e){return r.a.createElement(de,{key:e.name,name:e.name,proxies:e.proxies,type:e.type,vehicleType:e.vehicleType,updatedAt:e.updatedAt})}))))},fe=a("cq0i"),be=(a("z9QD"),a("L5YO")),ye=a.n(be),Ee=r.a.useEffect,Oe=r.a.useCallback,xe=r.a.useRef;t.default=Object(c.a)((function(e){return{apiConfig:Object(p.b)(e),groupNames:Object(m.d)(e),proxyProviders:Object(m.e)(e),delay:Object(m.b)(e),filterZeroRT:Object(m.f)(e)}}))((function(e){var t=e.dispatch,a=e.groupNames,n=e.delay,o=e.proxyProviders,i=e.apiConfig,u=e.filterZeroRT,s=xe({}),p=Object(c.c)().toggleUnavailableProxiesFilter,d=Oe((function(){return t(Object(m.i)(i))}),[i,t]),v=Oe((function(){s.current.startAt=new Date,t(Object(m.a)(i)).then((function(){s.current.completeAt=new Date}))}),[i,t]);return Ee((function(){v();var e=function(){s.current.startAt&&new Date-s.current.startAt>3e4&&v()};return window.addEventListener("focus",e,!1),function(){return window.removeEventListener("focus",e,!1)}}),[v]),r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{title:"Proxies"}),r.a.createElement("div",null,a.map((function(e){return r.a.createElement("div",{className:ye.a.group,key:e},r.a.createElement(I,{name:e,delay:n,apiConfig:i,dispatch:t}))}))),r.a.createElement(ve,{items:o}),r.a.createElement("div",{style:{height:60}}),r.a.createElement(fe.b,{icon:r.a.createElement(K.a,null)},r.a.createElement(fe.a,{text:"Test Latency",onClick:d},r.a.createElement(Q.a,{width:16})),r.a.createElement(fe.a,{text:(u?"Show":"Hide")+" Unavailable Proxies",onClick:p},r.a.createElement(W.a,{width:16}))))}))},x5hA:function(e,t,a){e.exports={updatedAt:"_3GVE9k27aM",body:"_1PV2l5z2zN",actionFooter:"_1b5XrAhEUm",refresh:"_2t6Q6BkZ73"}},z9QD:function(e,t,a){}}]);